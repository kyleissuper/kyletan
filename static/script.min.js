Element.prototype.remove=function(){this.parentElement.removeChild(this)};NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var a=this.length-1;a>=0;a--){if(this[a]&&this[a].parentElement){this[a].parentElement.removeChild(this[a])}}};var popAvail=1;function newListeners(){popAvail=1;window.addEventListener("popstate",function(b){if(popAvail===1){popAvail=0;if(document.URL==="http://128.199.155.92:8081/"){AJAX.direction="-"}else{AJAX.direction="+"}AJAX.request(document.referrer)}});Array.prototype.forEach.call(document.getElementsByClassName("card"),function a(c){c.addEventListener("click",function b(d){d.preventDefault();this.classList.add("delayed");AJAX.direction="+";AJAX.request(this.href)})});Array.prototype.forEach.call(document.getElementsByClassName("back"),function a(c){c.addEventListener("click",function b(d){d.preventDefault();AJAX.direction="-";AJAX.request(this.href)})})}newListeners();function raiseError(b,a){window.location.href=b}var AJAX={threshold:100,response:{},animateQ:[],renameOld:function renameOld(){Object.keys(AJAX.oldElements).forEach(function a(e){var b=0;Array.prototype.forEach.call(document.getElementsByClassName(e),function d(c){c.classList.add("old");c.id=e+"-old-"+b;AJAX.oldElements[e].push(e+"-old-"+b);b++})})},loadNew:function loadNew(){var a=document.getElementsByTagName("body")[0];a.innerHTML+=AJAX.html;Object.keys(AJAX.newElements).forEach(function b(f){var d=0;Array.prototype.forEach.call(document.getElementsByClassName(f),function e(g){if(!g.classList.contains("old")){g.id=f+"-new-"+d;AJAX.newElements[f].push(f+"-new-"+d);d++}})});var c=document.createElement("img");c.src=document.getElementsByClassName("bg")[1].style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1");c.onload=AJAX.animate()},get_position:function getPosition(a){var c=0;var b=0;while(a){c+=(a.offsetLeft-a.scrollLeft+a.clientLeft);b+=(a.offsetTop-a.scrollTop+a.clientTop);a=a.offsetParent}return{x:c,y:b}},animate:function animate(){Velocity(document.getElementById("bg-old-0"),{opacity:0},{duration:350});AJAX.oldElements.animate_rise.forEach(function(d){var c=document.getElementById(d);c.temp_data={height:c.clientHeight-getComputedStyle(c,null).paddingTop-getComputedStyle(c,null).paddingBottom,width:c.clientWidth-getComputedStyle(c,null).paddingLeft-getComputedStyle(c,null).paddingRight,margins:[getComputedStyle(c,null).marginTop.slice(0,-2)-0,getComputedStyle(c,null).marginRight.slice(0,-2)-0,getComputedStyle(c,null).marginBottom.slice(0,-2)-0,getComputedStyle(c,null).marginLeft.slice(0,-2)-0],position:AJAX.get_position(c)}});AJAX.oldElements.animate_fade.forEach(function(d){var c=document.getElementById(d);c.temp_data={height:c.clientHeight-getComputedStyle(c,null).paddingTop-getComputedStyle(c,null).paddingBottom,width:c.clientWidth-getComputedStyle(c,null).paddingLeft-getComputedStyle(c,null).paddingRight,margins:[getComputedStyle(c,null).marginTop.slice(0,-2)-0,getComputedStyle(c,null).marginRight.slice(0,-2)-0,getComputedStyle(c,null).marginBottom.slice(0,-2)-0,getComputedStyle(c,null).marginLeft.slice(0,-2)-0],position:AJAX.get_position(c)}});var b=window.scrollY;var a=document.body;a.style.height=a.scrollHeight+"px";a.style.overflow="hidden";AJAX.oldElements.animate_delete.forEach(function(d){var c=document.getElementById(d);c.style.position="relative";c.style.height="0px";c.style.width="0px";c.style.padding="0px"});AJAX.oldElements.animate_rise.forEach(function(d){var c=document.getElementById(d);c.style.position="absolute";c.style.height=c.temp_data.height+"px";c.style.width=c.temp_data.width+"px";c.style.top=c.temp_data.position.y+"px";c.style.left=c.temp_data.position.x+"px";c.style.margin="0px"});AJAX.oldElements.animate_fade.forEach(function(d){var c=document.getElementById(d);c.style.position="absolute";c.style.height=c.temp_data.height+"px";c.style.width=c.temp_data.width+"px";c.style.top=c.temp_data.position.y+"px";c.style.left=c.temp_data.position.x+"px";c.style.margin="0px"});AJAX.newElements.animate_rise.forEach(function(e){var c=document.getElementById(e),d="+"===AJAX.direction?1:-1;c.style.opacity=0;c.style.marginTop=c.style.marginTop-(AJAX.threshold*d)+"px"});AJAX.newElements.animate_fade.forEach(function(d){var c=document.getElementById(d);c.style.opacity=0});Velocity(document.getElementsByTagName("body")[0],"scroll",{axis:"y"},{duration:400});AJAX.oldElements.animate_rise.forEach(function(d){var c=0;if(document.getElementById(d).classList.contains("delayed")){c=200}Velocity(document.getElementById(d),{opacity:0,top:AJAX.direction+"="+AJAX.threshold+"px"},{duration:150+c,delay:125})});AJAX.oldElements.animate_fade.forEach(function(d){var c=0;if(document.getElementById(d).classList.contains("delayed")){c=200}Velocity(document.getElementById(d),{opacity:0},{duration:150+c,delay:125})});AJAX.newElements.animate_rise.forEach(function(d){var c=0;if(document.getElementById(d).classList.contains("delayed")){c=100}Velocity(document.getElementById(d),{opacity:1,marginTop:AJAX.direction+"="+AJAX.threshold+"px"},{duration:250,delay:125+c})});AJAX.newElements.animate_fade.forEach(function(d){var c=0;if(document.getElementById(d).classList.contains("delayed")){c=100}Velocity(document.getElementById(d),{opacity:1},{duration:250,delay:125+c})});setTimeout(function(){document.getElementsByClassName("old").remove();window.history.pushState({path:AJAX.url},"",AJAX.url);newListeners();document.body.style.height="";document.body.style.overflow="";Array.prototype.forEach.call(document.getElementsByTagName("a"),function c(d){d.style.opacity=""})},750)},callback:function callback(){if(AJAX.response.httpStatus!==200){raiseError(AJAX.url,"Connection error. Please re-try.")}else{AJAX.renameOld();AJAX.loadNew()}},requestChanged:function requestChanged(){if(this.readyState===4){if(this.status==200){AJAX.response.httpStatus=200;AJAX.response.content=this.responseText;AJAX.html=AJAX.response.content.split("<body>")[1];AJAX.html=AJAX.html.split("</body>")[0]}else{AJAX.response.httpStatus=this.status}AJAX.callback()}},request:function request(a){this.httpRequest="";this.httpRequest=new XMLHttpRequest();this.url=a;this.response={httpStatus:"",content:""};this.oldElements={back:[],animate_fade:[],animate_rise:[],bg:[],animate_delete:[]},this.newElements={back:[],animate_fade:[],animate_rise:[],};if(!this.httpRequest){this.response.httpStatus="No AJAX";return}this.httpRequest.onreadystatechange=this.requestChanged;this.httpRequest.open("GET",a,true);this.httpRequest.send()}};